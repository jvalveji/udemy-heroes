<!-- *********************************************************************************
[HTML /admin/catalogos/servicios/servicios-editar.component.html]

Proyecto:	arca Core
Version:	1.1
Fecha de creación:	09/2017
Asignado a:	Joseph Arias (jariass@ccss.sa.cr)(diseño)
Desarrollo: Dagoberto Gómez, Centro de Gestión Informática
Centro: Hospital San Vicente de Paúl
Cliente: Caja Costarricense de Seguro Social

Rediseño: 09/2018 Joseph Arias (jariass@ccss.sa.cr)(diseño)
********************************************************************************* -->

<div class="ar-page ar-background" fullscreen fxLayout="column">
	<div fxFlex fxLayout="column" layout>
		<!-- Toolbar principal de la vista -->
		<mat-toolbar class="ar-toolbar mat-elevation-z0">
			<button mat-icon-button (click)="IrPaginaAnterior()">
				<mat-icon>arrow_back</mat-icon>
			</button>
			<span fxHide.xs>Tipos de servicios</span>
			<span fxFlex></span>
			<button disabled mat-stroked-button mat-button>Listo</button>
			<!-- <button mat-stroked-button mat-button>Listo</button> -->
		</mat-toolbar>
		<!-- Barra de progreso -->
		<div class="ar-progressbar">
			<mat-progress-bar *ngIf="esCargando" mode="indeterminate"></mat-progress-bar>
		</div>
		<!-- Toolbar de búsqueda -->
		<div class="ar-searchbar-toolbar ar-margin-top-sm" fxLayoutAlign="center center" *ngIf="!esEdicion">
			<div class="ar-searchbar" fxFlex="45" fxFlex.sm="75" fxFlex.md="65" fxFlex.xs="80"
				fxLayoutAlign="center center">
				<!-- Input de búsqueda  -->
				<input class="ar-searchbar-input ar-margin-left-sm ar-color-54" placeholder="Buscar"
					[(ngModel)]="txtFiltro">
				<span fxFlex></span>
				<button mat-icon-button matTooltip="Limpiar" (click)="txtFiltro=null;">
					<i class="mdi mdi-close-circle ar-icons-sm ar-color-54"></i>
				</button>
			</div>
		</div>
		<!-- Inicio listado de ítems -->
		<perfect-scrollbar fxFlex class="ar-content" fxLayout="row" fxLayoutAlign="center start">
			<div fxLayout="column" fxFlex="60" fxFlex.xs="95" fxFlex.sm="95" fxFlex.md="80">
				<div fxLayout="column" class="ar-padding-bottom-lg ar-margin-top-sm">
					<!-- Ítem expandible tipo acordeón -->
					<mat-accordion>
						<mat-expansion-panel class="ar-background mat-elevation-z0"
							*ngFor="let item of catalogo | filtrarIdDescripcion: txtFiltro">
							<mat-expansion-panel-header fxLayout="row" fxLayoutAlign="center center">
								<mat-panel-title>
									<div fxFlex fxLayout="row" fxLayoutAlign="start center">
										<div class="ar-avatar" *ngIf="item.estado">
											<p class="ar-avatar-xs ar-avatar-green">
												{{item.descripcion | slice:0:1}}
											</p>
										</div>
										<div class="ar-avatar" *ngIf="!item.estado">
											<p class="ar-avatar-xs ar-avatar-red">
												{{item.descripcion | slice:0:1}}
											</p>
										</div>
										<div fxLayout="column" class="ar-margin-left-sm">
											<span class="ar-h4 ar-color-87"> {{item.descripcion}} </span>
										</div>
										<span fxFlex></span>
										<mat-chip-list class="ar-margin-right-xs" *ngIf="!item.estado">
											<ng-container>
												<mat-chip class="ar-chips-xs ar-chips-red">
													<span>DESHABILITADO</span>
												</mat-chip>
											</ng-container>
										</mat-chip-list>
									</div>
								</mat-panel-title>
							</mat-expansion-panel-header>
							<!-- Input editar ítem -->
							<div class="ar-margin-top-xs" fxFlex="100">
								<mat-form-field fxFlex appearance="outline">
									<mat-label>Descripción</mat-label>
									<input matInput fxFlex placeholder="Descripción" name="descripcion"
										[(ngModel)]="item.descripcion" [ngModelOptions]="{standalone: true}">
								</mat-form-field>
							</div>
							<!-- Menú de aciones -->
							<mat-action-row>
								<button mat-button color="warn" *ngIf="item.estado"
									(click)="item.estado=false;">Deshabilitar</button>
								<button mat-button class="ar-text-green" *ngIf="!item.estado"
									(click)="item.estado=true;">Habilitar</button>
							</mat-action-row>
						</mat-expansion-panel>
					</mat-accordion>
				</div>
			</div>
		</perfect-scrollbar>
	</div>
</div>